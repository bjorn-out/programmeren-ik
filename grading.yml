templates:
    1: &fullyauto
        type: pass
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: -(correctness/5)
        auto_publish: true
        hide_calculated: true
    # 2: &automatic
    #     type: float
    #     subgrades:
    #         correctness: integer
    #         design: integer
    #         style: integer
    #     automatic:
    #         correctness: (check_score * 5).floor
    #         style: style_score
    #     calculation: ((3 * correctness + 2 * design + 1 * style - 6) * 0.375 + 1).round(1)
    #     hide_calculated: true
    3: &manual
        type: float
        subgrades:
            points: integer
            hacker: integer
            late: float
        calculation: ((points + hacker - (late.abs)) / 5.0 * 9 + 1).round(1)
        hide_calculated: true
    4: &test
        type: pass
        subgrades:
            passed: integer
        calculation: "(passed.abs == 0 ? 0 : -1)"
        is_test: true
        hide_calculated: true

grades:
    scratch:
        subgrades:
            correctness: integer
            done: boolean
        automatic:
            correctness: (check_score * 5).floor
        calculation: done
        hide_calculated: true
    hardware:
        subgrades:
            done: boolean
        calculation: done
        hide_calculated: true
    greedy: *fullyauto
    mario_less: *fullyauto
    mario_more: *fullyauto
    credit: *fullyauto
    initials_less: *fullyauto
    initials_more: *fullyauto
    caesar: *fullyauto
    vigenere: *fullyauto
    crack: *fullyauto
    find_less: *fullyauto
    find_more: *fullyauto
    fifteen: *fullyauto
    python: *fullyauto
    tweet: *fullyauto
    virus:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 2 : 0) / 5.0 * 9"
        hide_calculated: true
    climate: *fullyauto
    sudoku_less: *fullyauto
    sudoku_more: *fullyauto
    fifteen_py:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 2 : 0) / 5.0 * 9"
        hide_calculated: true
    bleep_py:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 1 : 0) / 5.0 * 9"
        hide_calculated: true
    m1: *manual
    m2: *manual
    m3: *manual
    m4: *manual
    m5: *manual
    m6: *manual
    
    retrospective-c:
        subgrades:
            done: boolean
        calculation: done
        hide_calculated: true
    
    # test_a: *test
    # test_b: *test
    # test_c: *test
    # test_d: *test
    # test_e: *test
    # tentamen1:
    #     type: float
    #     subgrades:
    #         points: integer
    #     calculation: ((9/28.0) * points + (10 - 297/28.0)).round(1)
    #     is_test: true
    #     hide_calculated: false
    # tentamen2:
    #     type: float
    #     subgrades:
    #         points: integer
    #     calculation: ((points - 3) / 26.0 * 9 + 1).round(1)
    #     is_test: true
    #     hide_calculated: false
    # hertentamens:
    #     type: float
    #     subgrades:
    #         points: integer
    #     calculation: (0.225 * points - 0.575).round(1)
    #     is_test: true
    #     hide_calculated: false

modules:
    m0:
        - scratch
    m1:
        - hardware
    m2:
        - greedy
        - mario_less
        - credit
    m3:
        - initials_less
        - caesar
        - vigenere
        - crack
    m4:
        - find_less
        - fifteen
        - fifteen_more
    m5:
        - python
        - tweet
    m6:
        - virus
        - climate
    m7:
        - sudoku_less
        - sudoku_more

calculation:
    final:
        problems: 100
        retrospectives: 0

problems:
    show_progress: true
    submits:
        scratch: 0
        m1: 1
        m2: 1
        m3: 1
        m4: 1
        m5: 1
        m6: 1
        virus: bonus
        fifteen_py: bonus
        bleep_py: bonus

retrospectives:
    show_progress: true
    submits:
        retrospective-c: 1
