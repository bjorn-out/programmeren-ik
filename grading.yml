templates:
    1: &fullyauto
        type: pass
        subgrades:
            correctness: integer
        automatic:
            correctness: (correctness_score * 100).floor
        calculation: -(correctness/100)
        auto_publish: true
        hide_subgrades: true
    3: &manual
        type: float
        subgrades:
            points: integer
            extra: integer
        calculation: ([points + extra, 6].min / 6.0 * 9 + 1).round(1)
        hide_calculated: true
    4: &test
        type: pass
        subgrades:
            passed: integer
        calculation: "(passed.abs == 0 ? 0 : -1)"
        is_test: true
        hide_calculated: true
    5: &check_off
        type: pass
        subgrades:
            done: boolean
        calculation: done
        hide_calculated: true

grades:
    scratch: *fullyauto
    hardware: *check_off

    hello: *fullyauto
    water: *fullyauto
    greedy: *fullyauto
    mario_less: *fullyauto
    credit: *fullyauto
    retrospective-c: *check_off

    initials_less: *fullyauto
    caesar: *fullyauto
    vigenere: *fullyauto
    crack: *fullyauto
    retrospective-crypto: *check_off

    find_less: *fullyauto
    fifteen_less: *fullyauto
    fifteen_more: *fullyauto
    retrospective-fifteen: *check_off

    # python: *fullyauto
    tweet: *fullyauto
    fifteen_py:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 2 : 0) / 5.0 * 9"
        hide_calculated: true
    bleep_py:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 1 : 0) / 5.0 * 9"
        hide_calculated: true

    virus:
        type: float
        subgrades:
            correctness: integer
        automatic:
            correctness: (check_score * 5).floor
        calculation: "(correctness == 5 ? 2 : 0) / 5.0 * 9"
        hide_calculated: true
    climate: *fullyauto

    sudoku_less: *fullyauto
    sudoku_more: *fullyauto

    c: *manual
    crypto: *manual
    caesar2: *manual
    fifteen: *manual
    python: *manual
    module 6: *manual
    module 7: *manual

modules:
    c:
        - hello
        - water
        - greedy
        - mario_less
        - credit
    caesar2:
        - initials_more
        - caesar
        - crack
    fifteen:
        - find_less
        - fifteen
        - fifteen_more
    python:
        # - python
        - tweet
    module 6:
        - virus
        - climate
    module 7:
        - sudoku_less
        - sudoku_more

calculation:
    final:
        mods: 100
        other: 0

mods:
    show_progress: true
    submits:
        c: 1
        caesar2: 1
        fifteen: 1
        python: 1
        module 6: 1
        module 7: 1

other:
    show_progress: true
    submits:
        scratch: 1
        hardware: 1
        retrospective-c: 1
        retrospective-caesar: 1
        retrospective-fifteen: 1
